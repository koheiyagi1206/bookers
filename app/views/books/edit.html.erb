<h1>Editing Book</h1>
<%= form_with model: @book do |b| %>

  <% if @book.errors.any? %>
    <div class = "err_msg">
      <h2 class = "err_msg_head">
        <%= @book.errors.count %>errors prohibited this book from being saved:
      </h2>
      <ul>
        <% @book.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>

    <div class = "err_field">
      <label for = "err_title" class = "err_label">Title</label>
      <div class = "err_text"><%= b.text_field :title %></div>
    </div>

    <div class = "err_field">
      <label for = "err_body" class = "err_label">Body</label>
      <div class = "err_text"><%= b.text_area :body %></div>
    </div>

    <div class = "action">
      <%= b.submit 'Update Book' %>
    </div>

    <%= link_to "Show", book_path(@book.id)%>
      |
    <a href = "/books">Back</a>

  <% else %>
    <div class = "field">
      <label for = "title">Title</label>
      <%= b.text_field :title %>
    </div>

    <div class = "field">
      <label for = "body">Body</label>
      <%= b.text_area :body %>
    </div>

    <div class = "action">
      <%= b.submit 'Update Book' %>
    </div>

    <%= link_to "Show", book_path(@book.id)%>
      |
    <a href = "/books">Back</a>
  <% end %>
<% end %>
